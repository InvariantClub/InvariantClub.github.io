import{_ as n,D as e,c as s,I as a,U as r,o as l}from"./chunks/framework.ALnBf2yK.js";const f=JSON.parse('{"title":"Getting started with Nix (and flakes)","description":"","frontmatter":{"title":"Getting started with Nix (and flakes)","author":"Noon van der Silk","date":"2026-01-18T00:00:00.000Z","prev":{"text":"Why should my project adopt Nix?","link":"/articles/why-should-my-project-adopt-nix"},"next":{"text":"Packaging 128 languages with Nix","link":"/articles/packaging-128-programming-languages-with-nix"}},"headers":[],"relativePath":"articles/get-started-nix-flakes.md","filePath":"articles/get-started-nix-flakes.md"}'),o={name:"articles/get-started-nix-flakes.md"},d=r('<p>If you want to work with Nix in the modern age, you&#39;re going to need to do slightly more then the website suggests; we need to enable a few extra options to get the most convenient experience</p><p>So, let&#39;s go through it.</p><h4 id="_1-download-nix" tabindex="-1">1. Download Nix <a class="header-anchor" href="#_1-download-nix" aria-label="Permalink to &quot;1. Download Nix&quot;">​</a></h4><p>This is pretty straightforward; just follow the relevant section for your OS from the Nix website: <a href="https://nixos.org/download/" target="_blank" rel="noreferrer">Download Nix</a>.</p><h4 id="_2-enable-flakes-and-other-features-in-nix-conf" tabindex="-1">2. Enable flakes and other features in <code>nix.conf</code> <a class="header-anchor" href="#_2-enable-flakes-and-other-features-in-nix-conf" aria-label="Permalink to &quot;2. Enable flakes and other features in `nix.conf`&quot;">​</a></h4><p>You can create/edit <code>~/.config/nix/nix.conf</code> and add the following line:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-Vyv0V" id="tab-sW79e69" checked="checked"><label for="tab-sW79e69">nix.conf</label></div><div class="blocks"><div class="language-txt vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes min-light nord vp-code"><code><span class="line"><span>experimental-features = nix-command flakes recursive-nix ca-derivations</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>This enables flakes, the <code>nix</code> command, and a few other features that are handy.</p></div></div><h4 id="_3-test-it" tabindex="-1">3. Test it <a class="header-anchor" href="#_3-test-it" aria-label="Permalink to &quot;3. Test it&quot;">​</a></h4><p>You can check that the <em>nix-command</em> feature is working by trying to run any program on nixpkgs; for example, jq:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes min-light nord vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">nix</span><span style="--shiki-light:#2B5581;--shiki-dark:#A3BE8C;"> run</span><span style="--shiki-light:#2B5581;--shiki-dark:#A3BE8C;"> nixpkgs#jq</span><span style="--shiki-light:#2B5581;--shiki-dark:#A3BE8C;"> --</span><span style="--shiki-light:#2B5581;--shiki-dark:#A3BE8C;"> --help</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>You can test that the <em>flakes</em> feature is active by loading a development shell for a simple JavaScript project, from our templates:</p><div class="language-sh vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes min-light nord vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">nix</span><span style="--shiki-light:#2B5581;--shiki-dark:#A3BE8C;"> develop</span><span style="--shiki-light:#2B5581;--shiki-dark:#A3BE8C;"> github:InvariantClub/nix-js-simple</span></span>\n<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> node</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_4-optional-—-use-direnv" tabindex="-1">4. <em>optional</em> — Use <a href="https://direnv.net" target="_blank" rel="noreferrer">direnv</a> <a class="header-anchor" href="#_4-optional-—-use-direnv" aria-label="Permalink to &quot;4. _optional_ &amp;mdash; Use [direnv](https://direnv.net)&quot;">​</a></h4><p>While this is not strictly necessary; it&#39;s something I use all the time, and has wildly improved and simplified my Nix life.</p><p><a href="https://direnv.net/" target="_blank" rel="noreferrer">direnv</a> is a program that reads <code>.envrc</code> files and follows instructions there-in. You will notice in all our <a href="/templates/">nix templates</a> we provide <code>.envrc</code> with the simple statement:</p><div class="language-txt vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes min-light nord vp-code"><code><span class="line"><span>use flake</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>This means that whenever you <code>cd</code> into the directory, the <code>nix develop</code> shell will be loaded automatically. This is <em>extremely</em> convenient!</p><p>Steps:</p><ol><li>Install <a href="https://direnv.net/" target="_blank" rel="noreferrer">direnv</a></li><li>Install <a href="https://github.com/nix-community/nix-direnv" target="_blank" rel="noreferrer">nix-direnv</a></li></ol><h4 id="_5-start-hacking" tabindex="-1">5. Start hacking! <a class="header-anchor" href="#_5-start-hacking" aria-label="Permalink to &quot;5. Start hacking!&quot;">​</a></h4><p>You&#39;re all set! You&#39;ve now got a perfect Nix setup for exploring and extending one of our <a href="/templates/">templates</a>!</p>',21);function p(h,c,m,u,g,k){const t=e("ArticleHeader"),i=e("ReachOut");return l(),s("div",null,[a(t,{title:"Getting started with Nix (and flakes)",author:"Noon van der Silk",image:"noon"}),d,a(i)])}const x=n(o,[["render",p]]);export{f as __pageData,x as default};
